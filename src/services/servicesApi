import storeReducer from "../store";

export const getCharacters = async (dispatch) => {
    const response = await fetch("https://www.swapi.tech/api/people/", {
        method: "GET"
    })
    const data = await response.json()

    dispatch({ type: "set_characters", payload: data.results })
};

export const getCharacterDetails = async (id, dispatch) => {
    const response = await fetch(`https://www.swapi.tech/api/people/${id}`,{
        method: "GET"
    })
    const data = await response.json()
    
    dispatch({type:'set_actual_character', payload: data.result})
    // console.log(data.result);
}

export const getPlanets = async (dispatch) => {
    const response = await fetch("https://www.swapi.tech/api/planets/",{
        method: 'GET'
    })
    const data = await response.json()
    // console.log("datos character actual", data.results);
    
    dispatch({type:'set_planets', payload: data.results})
}

export const getPlanetDetails = async (id, dispatch) => {
    const response = await fetch(`https://www.swapi.tech/api/planets/${id}/`,{
        method: 'GET'
    })
    const data = await response.json()

    dispatch({type:'set_actual_planet', payload: data.result})
    // console.log("datos planeta actual: ",data.result);
    
}

export const getVehicles = async (dispatch) => {
    const response = await fetch('https://www.swapi.tech/api/vehicles/', {
        method: 'GET'
    })
    const data = await response.json()

    console.log('Esta es la data del get vehicles',data.results);
    
    dispatch({type: 'set_vehicles', payload: data.results})
}

export const getVehicleDetails = async (id, dispatch) => {
    const response = await fetch(`https://www.swapi.tech/api/vehicles/${id}/`,{
        method: 'GET'
    })
    const data = await response.json()

    console.log("Esta es la data result del vehicle details: ", data.result);
    
    dispatch({type: 'set_actual_vehicle', payload: data.result})
}